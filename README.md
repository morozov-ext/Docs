# **Сервер weaselcloud-26445**

## **Описание**
Сервер с веб-окружением на основе **LEMP-стека** и базовым набором сервисов. Обрабатывает HTTP-запросы через **nginx** и исполняет PHP-скрипты через **php-fpm**. В качестве реляционной базы данных используется **MariaDB**.

В каталоге **/var/www/testapp** размещены файлы приветственной страницы:
- **index.html**
- **Два PNG-изображения**

## **Назначение**
- Тестовый стенд, «песочница» для кандидатов для знакомства с веб-окружением.
- Отображение приветственной страницы при обращении к серверу.

## **Требования к окружению**

| **Компонент** | **Минимальная версия** |
|---------------|-------------------------|
| Ubuntu        | 22.04                  |
| nginx         | 1.18.0                 |
| PHP           | 8.1                    |
| MariaDB       | 10.6.22                |
| Memcached     | 1.6.14                 |
| Fail2Ban      | 0.11.2                 |

## **Сервисы**

### **Основные**

| **Активный сервис** | **Роль** |
|----------------------|----------|
| **nginx**            | Веб-сервер, обработка HTTP-запросов |
| **php-fpm**          | Исполнение PHP-кода |
| **MariaDB**          | Реляционная СУБД |
| **Memcached**        | Кэширование данных |
| **Fail2Ban**         | Защита от брутфорс-атак |
| **Postfix**          | Агент локальной доставки почты (MTA) |
| **sshd**             | Удаленный доступ по SSH |

### **Системные службы**
**cron**, **dbus**, **irqbalance**, **multipathd**, **networkd-dispatcher**,  
**getty@tty1**, **serial-getty@ttyS0**, **packagekit**, **polkit**, **rsyslog**,  
**snapd**, **systemd-journald**, **systemd-logind**, **systemd-networkd**,  
**systemd-resolved**, **systemd-timesyncd**, **systemd-udevd**, **unattended-upgrades**.

## **Логические связи**
- **nginx** принимает HTTP-запросы и отдаёт статические файлы / перенаправляет динамические запросы в **php-fpm**.  
- **php-fpm** исполняет PHP-скрипты и при необходимости обращается к **MariaDB** (127.0.0.1:3306) и кэш-хранилищу **Memcached** (127.0.0.1:11211).  
- **Postfix** доставляет локальные системные уведомления.  
- **Fail2Ban** анализирует логи и блокирует подозрительную активность при подключении по SSH.

## **Открытые порты**

| **Сервис** | **Порт** | **Протокол** |
|------------|----------|--------------|
| nginx      | 80       | TCP          |
| MariaDB    | 3306     | TCP          |
| Memcached  | 11211    | TCP          |
| sshd       | 22       | TCP          |
